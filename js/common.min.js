"use strict";$(document).ready(function(){function e(e,t){l.on("scroll",function(){var o=1-l.scrollTop()*t;e.css("opacity",o)})}function t(e,t){e.each(function(){var e=$(this),o=e.data("os-animation"),n=e.data("os-animation-delay");e.css({"-webkit-animation-delay":n,"-moz-animation-delay":n,"animation-delay":n}),(t?e.closest(t):e).waypoint(function(){e.addClass("animated").addClass(o)},{triggerOnce:!0,offset:"75%"})})}function o(){for(var e=$(".block-square"),t=0;t<e.length;t++)$(e[t]).css("height",$(e[t]).innerWidth())}function n(e){var t=0;if(e.height("auto"),l.width()>767){for(var o=0;o<e.length;o++){var n=$(e[o]).innerHeight();n>t&&(t=n)}e.height(t)}}function a(e,t){for(var o=0;o<$(e).length;o++){var a=$(t,$($(e)[o]));n(a),l.on("resize",function(){n(a)})}}function i(){$(".responsive-text").bigtext()}function r(){c.css("padding-bottom",H.innerHeight())}$("body");var s=$("html, body"),l=$(window),c=$("#page-wrap"),d=$("#page-loader"),u=function(){var e=$(".section_fixed"),t=e.next(),o=e.innerHeight();t.addClass("section-padding").css({"margin-top":o}),e.length&&t.offset().top<l.scrollTop()?e.css({position:"absolute"}):e.css({position:"fixed"})};setTimeout(function(){d.addClass("page-loader_hide"),i(),l.width()>767&&(t($(".os-animation")),t($(".staggered-animation"),".staggered-animation-container"),e($(".intro__text, .intro__img, .presentation-line"),.0015),u(),l.on("scroll",u))},800);var f=$(".input");for(f.on("focus",function(){var e=$(this),t=($('.label_placeholder[for="'+e.attr("id")+'"]'),$(e).attr("placeholder"));e.addClass("focus").attr("placeholder",""),e.on("blur",function(){e.val()||e.removeClass("focus").attr("placeholder",t)})}),g=0;g<f.length;g++)""!=$(f[g]).val()&&$(f[g]).addClass("focus");$(".scroll-section").on("click",function(){var e=$(this).closest("section").innerHeight();s.animate({scrollTop:e},500)});var p=$(".header__menu");$(".header__menu-btn, .menu-overlay").on("click",function(){p.toggleClass("header__menu_opened")}),$(".image-popup").magnificPopup({type:"image",zoom:{enabled:!0}}),$(".video-popup").magnificPopup({type:"iframe"});for(var m=$(".gallery"),g=0;g<m.length;g++)$(m[g]).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0},zoom:{enabled:!0}});var v={type:"inline",removalDelay:200,fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,mainClass:"mfp-move-horizontal"};$(".popup-with-anim").magnificPopup(v);for(var h=function(e){v.items={src:e},$.magnificPopup.open(v)},_=$(".form"),g=0;g<_.length;g++)$(_[g]).validate({errorPlacement:function(e,t){},submitHandler:function(e){$.ajax({url:e.action,type:e.method,data:$(e).serialize(),success:function(){$.magnificPopup.close(),setTimeout(function(){h("#popup-success"),e.reset(),$(e).find(".input").removeClass("focus")},700)},error:function(){setTimeout(function(){h("#popup-success")},700)}})}});$.validator.addClassRules({required:{required:!0},email:{email:!0}});var y=$(".masonry"),C=!1;1==y.data("horizontal")&&(C=!0);var x=y.masonry({itemSelector:".masonry__item",columnWidth:".masonry__sizer",percentPosition:!0,horizontalOrder:C});x.imagesLoaded().progress(function(){i(),o(),a(".blocks-equal",".blocks-equal__item"),a(".grid__row",".grid__item"),x.masonry("layout")});var b=$("#filter"),w=$(".filter__item"),k=$(".filter-content"),z=$(".filter__toggle"),P=b.find(".filter__wrap"),T=P.find(".opened");w.on("click",function(){var e=$(this),t=e.data("target");w.removeClass("opened"),e.addClass("opened"),b.find(z).text(e.text()),"all"==t?k.show():(k.hide(),$(t).show()),x.masonry("layout")}),T.click(),z.text(T.text()).on("click",function(){P.slideToggle(200),z.toggleClass("opened"),$(document).mouseup(function(e){b.is(e.target)||z.is(e.target)||(P.slideUp(200),z.removeClass("opened"))})});var q=$(".jarallax");q.length&&q.jarallax({speed:.4}),$(".anchor").on("click",function(e){e.preventDefault();var t=$(this).attr("href");s.animate({scrollTop:$(t).offset().top-50},800)});var H=$("#footer");r(),l.on("resize",function(){r(),i(),o()});for(var j=$(".preview"),I=$(".cover__item"),B=function(e,t){var o=e.find(".active");o.removeClass("active"),o.next().length?o.next(I).addClass("active"):t.addClass("active")},g=0;g<j.length;g++){var D=$(j[g]),O=D.find(I);O.first().addClass("active"),O.length>1&&D.addClass("preview_active")}$(".preview_active").on("mouseenter",function(){var e=$(this),t=e.find(I).eq(0),o=setInterval(function(){B(e,t)},800);e.on("mouseleave",function(){clearInterval(o)})})});